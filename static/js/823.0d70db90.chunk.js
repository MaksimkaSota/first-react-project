"use strict";(self.webpackChunkfirst_react_project=self.webpackChunkfirst_react_project||[]).push([[823],{2823:function(t,s,e){e.r(s),e.d(s,{Profile:function(){return I},default:function(){return L}});var r=e(5671),i=e(3144),n=e(136),a=e(7277),o=e(2791),u=e(9101),d=e(4883),c="ProfileInfo_descriptionBlock__2tGXb",p="ProfileInfo_userPhoto__GthK4",l=e(4353),h=e(184),f=function(t){(0,n.Z)(e,t);var s=(0,a.Z)(e);function e(){var t;(0,r.Z)(this,e);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=s.call.apply(s,[this].concat(n))).state={editMode:!1,status:t.props.status},t.onActivateEditMode=function(){t.setState({editMode:!0})},t.onDeactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(s){t.setState({status:s.currentTarget.value})},t}return(0,i.Z)(e,[{key:"componentDidUpdate",value:function(t,s,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,h.jsx)("div",{children:this.state.editMode?(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.onDeactivateEditMode,value:this.state.status})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:this.onActivateEditMode,children:this.props.status||"no status"})})})}}]),e}(o.Component),v=function(t){var s=t.profile,e=t.status,r=t.updateStatus;return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("div",{children:s.fullName}),(0,h.jsx)("div",{children:s.lookingForAJobDescription}),(0,h.jsx)("img",{className:p,src:s.photos.large||l,alt:"avatar"}),(0,h.jsx)(f,{status:e,updateStatus:r}),(0,h.jsx)(x,{})]})})},x=o.memo((function(){return console.log("render"),(0,h.jsx)("div",{children:"TEST"})})),m=e(8633),j=e(1413),g=e(7689),_=e(7781),b=function(t){(0,n.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.id;t||(t=this.props.authorizedUserId)||this.props.router.navigate("/login"),t&&(this.props.getProfile(t),this.props.getStatus(t))}},{key:"render",value:function(){return(0,h.jsx)(h.Fragment,{children:this.props.profile?(0,h.jsx)(v,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}):(0,h.jsx)(d.p,{})})}}]),e}(o.Component),S={getProfile:m.Ai,getStatus:m.lR,updateStatus:m.Nf},P=(0,_.qC)((0,u.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),S),(function(t){return function(s){var e=(0,g.TH)(),r=(0,g.s0)(),i=(0,g.UO)();return(0,h.jsx)(t,(0,j.Z)((0,j.Z)({},s),{},{router:{location:e,navigate:r,params:i}}))}}))(b),k="MyPosts_postsBlock__TbVLd",y="MyPosts_posts__o+uBJ",M="Post_item__m2mev",Z=function(t){var s=t.message,e=t.numberOfLike;return(0,h.jsxs)("div",{className:M,children:[(0,h.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=7808f22d2c74cc72b53378dc5b5479650088c558-7663734-images-thumbs&n=13",alt:"avatar"}),s,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like"})," ",e]})]})},C=e(5705),N=e(6727),A="MyPostForm_error__Y+Nb3",T=e(8173),D=function(t){var s=t.isSubmitting;return(0,h.jsxs)(C.l0,{children:[(0,T.G)("text","textarea","Text"),(0,h.jsx)(C.Bc,{name:"text",component:"div",className:A}),(0,h.jsx)("button",{type:"submit",disabled:s,children:"Add post"})]})},B=N.Ry().shape({text:N.Z_().max(50,"Must be shorter than 50 characters").required("Required")}),E=function(t){var s=t.addPost;return(0,h.jsx)(C.J9,{initialValues:{text:""},validationSchema:B,onSubmit:function(t,e){var r=e.setSubmitting,i=e.resetForm;s(t.text),r(!1),i()},children:function(t){var s=t.isSubmitting;return(0,h.jsx)(D,{isSubmitting:s})}})},F={addPost:m.q2},q=(0,u.$j)((function(t){return{posts:t.profilePage.posts,postText:t.profilePage.postText}}),F)((function(t){var s=t.posts,e=t.addPost,r=s.map((function(t,s){return(0,h.jsx)(Z,{message:t.message,numberOfLike:t.numberOfLike},s)}));return(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(E,{addPost:e}),(0,h.jsx)("div",{className:y,children:r})]})})),I=function(){return(0,h.jsxs)("div",{children:[(0,h.jsx)(P,{}),(0,h.jsx)(q,{})]})},L=I}}]);
//# sourceMappingURL=823.0d70db90.chunk.js.map