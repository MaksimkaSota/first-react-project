"use strict";(self.webpackChunkfirst_react_project=self.webpackChunkfirst_react_project||[]).push([[823],{2823:function(t,e,s){s.r(e),s.d(e,{Profile:function(){return F},default:function(){return U}});var r=s(5671),i=s(3144),n=s(136),a=s(7277),o=s(2791),u=s(9101),d=s(4883),c="ProfileInfo_descriptionBlock__2tGXb",p="ProfileInfo_userPhoto__GthK4",l=s(4353),h=s(184),f=function(t){(0,n.Z)(s,t);var e=(0,a.Z)(s);function s(){var t;(0,r.Z)(this,s);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).state={editMode:!1,status:t.props.status},t.onActivateEditMode=function(){t.setState({editMode:!0})},t.onDeactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,i.Z)(s,[{key:"componentDidUpdate",value:function(t,e,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,h.jsx)("div",{children:this.state.editMode?(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.onDeactivateEditMode,value:this.state.status})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:this.onActivateEditMode,children:this.props.status||"no status"})})})}}]),s}(o.Component),v=function(t){var e=t.profile,s=t.status,r=t.updateStatus,i=t.isOwner,n=t.savePhoto;return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("div",{children:e.fullName}),(0,h.jsx)("div",{children:e.lookingForAJobDescription}),(0,h.jsx)("img",{className:p,src:e.photos.large||l,alt:"avatar"}),i&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&n(t.target.files[0])}})}),(0,h.jsx)(f,{status:s,updateStatus:r}),(0,h.jsx)(m,{})]})})},m=o.memo((function(){return console.log("render"),(0,h.jsx)("div",{children:"TEST"})})),x=s(8633),j=s(1413),g=s(7689),P=s(7781),_=function(t){(0,n.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.router.params.id;t||(t=this.props.authorizedUserId)||this.props.router.navigate("/login"),t&&(this.props.getProfile(t),this.props.getStatus(t))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){t.router.params.id!==this.props.router.params.id&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(h.Fragment,{children:this.props.profile?(0,h.jsx)(v,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.router.params.id,savePhoto:this.props.savePhoto}):(0,h.jsx)(d.p,{})})}}]),s}(o.Component),b={getProfile:x.Ai,getStatus:x.lR,updateStatus:x.Nf,savePhoto:x.Ju},S=(0,P.qC)((0,u.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),b),(function(t){return function(e){var s=(0,g.TH)(),r=(0,g.s0)(),i=(0,g.UO)();return(0,h.jsx)(t,(0,j.Z)((0,j.Z)({},e),{},{router:{location:s,navigate:r,params:i}}))}}))(_),k="MyPosts_postsBlock__TbVLd",y="MyPosts_posts__o+uBJ",M="Post_item__m2mev",Z=function(t){var e=t.message,s=t.numberOfLike;return(0,h.jsxs)("div",{className:M,children:[(0,h.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=7808f22d2c74cc72b53378dc5b5479650088c558-7663734-images-thumbs&n=13",alt:"avatar"}),e,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like"})," ",s]})]})},C=s(5705),N=s(6727),A="MyPostForm_error__Y+Nb3",T=s(8173),D=function(t){var e=t.isSubmitting;return(0,h.jsxs)(C.l0,{children:[(0,T.G)("text","textarea","Text"),(0,h.jsx)(C.Bc,{name:"text",component:"div",className:A}),(0,h.jsx)("button",{type:"submit",disabled:e,children:"Add post"})]})},O=N.Ry().shape({text:N.Z_().max(50,"Must be shorter than 50 characters").required("Required")}),w=function(t){var e=t.addPost;return(0,h.jsx)(C.J9,{initialValues:{text:""},validationSchema:O,onSubmit:function(t,s){var r=s.setSubmitting,i=s.resetForm;e(t.text),r(!1),i()},children:function(t){var e=t.isSubmitting;return(0,h.jsx)(D,{isSubmitting:e})}})},B={addPost:x.q2},E=(0,u.$j)((function(t){return{posts:t.profilePage.posts,postText:t.profilePage.postText}}),B)((function(t){var e=t.posts,s=t.addPost,r=e.map((function(t,e){return(0,h.jsx)(Z,{message:t.message,numberOfLike:t.numberOfLike},e)}));return(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(w,{addPost:s}),(0,h.jsx)("div",{className:y,children:r})]})})),F=function(){return(0,h.jsxs)("div",{children:[(0,h.jsx)(S,{}),(0,h.jsx)(E,{})]})},U=F}}]);
//# sourceMappingURL=823.0eb0435c.chunk.js.map